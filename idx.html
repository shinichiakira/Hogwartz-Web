<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Hogwarts Sorting Hat</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    padding: 15px;
    background: url('background.jpeg') no-repeat center center fixed;
    background-size: cover;
    color: white;
    transition: background 0.5s ease;
    font-size: 16px;
  }

  .box {
    background: rgba(30,41,59,0.85);
    padding: 15px;
    border-radius: 10px;
    max-width: 700px; /* laptop + mobile friendly */
    width: 95%;
    margin: auto;
  }

  input[type=text] {
    width: 90%;
    padding: 10px;
    margin: 10px 0;
    border-radius: 5px;
    border: none;
    font-size: 1em;
  }

  button {
    display: block;
    width: 100%;
    margin: 8px 0;
    padding: 10px;
    border: none;
    border-radius: 5px;
    background: #334155;
    color: white;
    cursor: pointer;
    font-size: 1em;
  }

  button:hover {
    background: #475569;
  }

  #result img {
    width: 40%;       /* responsive */
    max-width: 100px; /* batas maksimal */
    height: auto;
    border-radius: 50%;
    margin: 15px 0;
    border: 2px solid white;
    object-fit: cover;
  }

  #quiz h2 {
    font-size: 1.2em;
  }

  #result h1 {
    font-size: 1.8em;
  }

  #result h2 {
    font-size: 1.3em;
  }
</style>
</head>
<body>

<div class="box" id="quiz">
  <h2>Masukkan Nama Kamu:</h2>
  <input type="text" id="nameInput" placeholder="Nama kamu...">
  <button onclick="startQuiz()">Mulai Quiz</button>
</div>

<script>
function shuffle(array) {
  for (let i = array.length -1; i>0; i--){
    const j = Math.floor(Math.random()*(i+1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

// 10 soal dengan point house acak tiap jawaban
const questions = [
  {q:"Jika temanmu diperlakukan tidak adil, kamu akan...",
   answers:[
     {text:"Bela temanmu langsung", house:"gryffindor"},
     {text:"Menganalisis situasi dulu", house:"ravenclaw"},
     {text:"Menemani dan menenangkan", house:"hufflepuff"},
     {text:"Mencari cara licik untuk membalas", house:"slytherin"}
   ]},
  {q:"Hal yang paling kamu hargai adalah...",
   answers:[
     {text:"Kesetiaan", house:"hufflepuff"},
     {text:"Ambisi", house:"slytherin"},
     {text:"Keberanian", house:"gryffindor"},
     {text:"Kecerdasan", house:"ravenclaw"}
   ]},
  {q:"Saat menghadapi tantangan, kamu cenderung...",
   answers:[
     {text:"Membuat rencana supaya menang", house:"slytherin"},
     {text:"Pelajari dulu semuanya", house:"ravenclaw"},
     {text:"Minta bantuan teman", house:"hufflepuff"},
     {text:"Langsung mencoba meski berisiko", house:"gryffindor"}
   ]},
  {q:"Liburan idealmu adalah...",
   answers:[
     {text:"Mengunjungi museum", house:"ravenclaw"},
     {text:"Piknik santai", house:"hufflepuff"},
     {text:"Berkemah di hutan", house:"gryffindor"},
     {text:"Tur ke kota besar", house:"slytherin"}
   ]},
  {q:"Jika diberi tugas kelompok, kamu...",
   answers:[
     {text:"Membantu semua anggota", house:"hufflepuff"},
     {text:"Memimpin kelompok", house:"gryffindor"},
     {text:"Menyusun strategi supaya menang", house:"slytherin"},
     {text:"Membagi tugas sesuai kemampuan", house:"ravenclaw"}
   ]},
  {q:"Minuman favoritmu?",
   answers:[
     {text:"Air mineral murni", house:"ravenclaw"},
     {text:"Biras", house:"gryffindor"},
     {text:"Teh hitam kuat", house:"slytherin"},
     {text:"Jus buah", house:"hufflepuff"}
   ]},
  {q:"Gaya belajar favoritmu?",
   answers:[
     {text:"Belajar bareng teman", house:"hufflepuff"},
     {text:"Membaca dan menganalisis", house:"ravenclaw"},
     {text:"Cari cara tercepat dan efisien", house:"slytherin"},
     {text:"Langsung praktik", house:"gryffindor"}
   ]},
  {q:"Hewan peliharaan favoritmu?",
   answers:[
     {text:"Burung hantu pintar", house:"ravenclaw"},
     {text:"Kelinci lucu", house:"hufflepuff"},
     {text:"Ular misterius", house:"slytherin"},
     {text:"Anjing pemberani", house:"gryffindor"}
   ]},
  {q:"Benda favorit di Hogwarts?",
   answers:[
     {text:"Peta & alat belajar", house:"ravenclaw"},
     {text:"Buku rahasia", house:"slytherin"},
     {text:"Tongkat sihir", house:"gryffindor"},
     {text:"Peralatan dapur & makanan", house:"hufflepuff"}
   ]},
  {q:"Kamu lebih suka...",
   answers:[
     {text:"Damai & harmonis", house:"hufflepuff"},
     {text:"Petualangan & tantangan", house:"gryffindor"},
     {text:"Mengetahui semua hal", house:"ravenclaw"},
     {text:"Meraih tujuan pribadi", house:"slytherin"}
   ]}
];

let index = 0;
let points = {gryffindor:0, slytherin:0, hufflepuff:0, ravenclaw:0};
let playerName = "";

const quizDiv = document.getElementById("quiz");

const finalBgImages = {
  gryffindor:"gryffindor_bg.jpeg",
  slytherin:"slytherin_bg.jpeg",
  hufflepuff:"hufflepuff_bg.jpeg",
  ravenclaw:"ravenclaw_bg.jpeg"
};



function startQuiz(){
  const nameInput = document.getElementById("nameInput").value.trim();
  if(!nameInput){ alert("Tulis namamu dulu!"); return; }
  playerName = nameInput;
  index = 0;
  points = {gryffindor:0, slytherin:0, hufflepuff:0, ravenclaw:0};
  loadQuestion();
}

function loadQuestion(){
  const q = questions[index];
  quizDiv.innerHTML = `<h2>${q.q}</h2>`;

  const shuffledAnswers = shuffle([...q.answers]);

  shuffledAnswers.forEach(ans=>{
    const btn = document.createElement("button");
    btn.innerText = ans.text;
    btn.onclick = ()=>selectAnswer(ans.house);
    quizDiv.appendChild(btn);
  });

  // Background default
  document.body.style.background = "url('background.jpeg') no-repeat center center fixed";
  document.body.style.backgroundSize = "cover";
}

function selectAnswer(house){
  points[house]++;
  index++;
  if(index < questions.length) loadQuestion();
  else showResult();
}

function showResult(){
  let result = Object.keys(points).reduce((a,b)=>points[a]>points[b]?a:b);
  quizDiv.innerHTML = `
    <h1>ðŸŽ‰ CONGRATULATIONS, ${playerName}!</h1>
    <h2>${result.toUpperCase()}</h2>
    <img src="${result}.jpeg" alt="${result} logo">
  `;
  // Background akhir sesuai hasil asrama
  document.body.style.background = `url('${finalBgImages[result]}') no-repeat center center fixed`;
  document.body.style.backgroundSize = "cover";
}
</script>
</body>
</html>